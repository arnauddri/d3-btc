
function drawCogGridLines(){d3.csv("./csv/cogs-grids.csv",function(a,b){b.forEach(function(a){a.x1=+a.x1,a.y1=+a.y1,a.x2=+a.x2,a.y2=+a.y2,a.x1_0=+a.x1_0,a.y1_0=+a.y1_0,a.x2_0=+a.x2_0,a.y2_0=+a.y2_0});var c=svg.append("g"),d=c.selectAll("line").data(b).enter().append("line").attr("x1",function(a){return a.x1_0}).attr("y1",function(a){return a.y1_0}).attr("x2",function(a){return a.x2_0}).attr("y2",function(a){return a.y2_0}).attr("class","guideline");d.transition().delay(800).duration(600).attr("x1",function(a){return a.x1}).attr("y1",function(a){return a.y1}).attr("x2",function(a){return a.x2}).attr("y2",function(a){return a.y2}).ease(cog_easing).each("end",function(){setTimeout(function(){drawCog()},400)})})}function drawCogGridCirles(){d3.csv("./csv/cogs-grid-circles.csv",function(a,b){b.forEach(function(a){a.cx=+a.cx,a.cy=+a.cy,a.r=+a.r,a.cx_0=+a.cx_0,a.cy_0=+a.cy_0,a.r_0=+a.r_0});var c=svg.append("g"),d=c.selectAll("line").data(b).enter().append("circle").attr("cx",function(a){return a.cx_0}).attr("cy",function(a){return a.cy_0}).attr("r",function(a){return a.r_0}).attr("class","guideline cog_grid");d.transition().delay(800).duration(600).attr("cx",function(a){return a.cx}).attr("cy",function(a){return a.cy}).attr("r",function(a){return a.r}).ease(cog_easing)})}function drawCog(){function a(a,c,d){a.transition().duration(1e3).delay(1800).attrTween("d",b(d,4))}function b(a,b){return function(){for(var c=this,d=c.cloneNode(),e=c.getTotalLength(),f=(d.setAttribute("d",a),d).getTotalLength(),g=[0],h=0,i=b/Math.max(e,f);(h+=i)<1;)g.push(h);g.push(1);var j=g.map(function(a){var b=c.getPointAtLength(a*e),g=d.getPointAtLength(a*f);return d3.interpolate([b.x,b.y],[g.x,g.y])});return function(b){return 1>b?"M"+j.map(function(a){return a(b)}).join("L"):a}}}if(!cogDrawn){cogDrawn=!0,d3.csv("./csv/cogs-grid-sm-circles.csv",function(a,b){b.forEach(function(a){a.cx=+a.cx,a.cy=+a.cy,a.r=+a.r,a.cx_0=+a.cx_0,a.cy_0=+a.cy_0});var c=svg.append("g"),d=c.selectAll("line").data(b).enter().append("circle").attr("cx",function(a){return a.cx_0}).attr("cy",function(a){return a.cy_0}).attr("r",0).attr("class","guideline cogCircles");d.transition().attr("r",function(a){return a.r}).ease(cog_easing),d.transition().delay(800).duration(600).attr("cx",function(a){return a.cx_1}).attr("cy",function(a){return a.cy_1}).ease(cog_easing),d.transition().delay(1800).duration(900).attr("cx",function(a){return a.cx}).attr("cy",function(a){return a.cy})});var c=svg.append("g").append("path").attr("d",cog_smooth_path).attr("opacity",0).style("stroke-width","18px").attr("transform","translate(385,385)scale(0.2,0.2)");c.transition().duration(600).attr("opacity",1),c.transition().delay(800).duration(600).style("stroke-width","4px").attr("transform","translate(0,0)scale(1,1)").ease(cog_easing),c.call(a,cog_smooth_path,cog_outer_path),svg.append("g").append("circle").attr("cx",480).attr("cy",480).attr("r",56).attr("class","cog_inner_path").attr("opacity",0).transition().duration(600).attr("opacity",1).transition().delay(800).duration(600).attr("r",284.5).ease(cog_easing)}}function drawBTCGridLines(){d3.csv("../csv/btc-grid-lines.csv",function(a,b){b.forEach(function(a){a.x1=+a.x1,a.y1=+a.y1,a.x2=+a.x2,a.y2=+a.y2});var c=svg.append("g"),d=c.selectAll("line").data(b).enter().append("line").attr("y1",function(a){return"h"===a.type?460:a.y1}).attr("y2",function(a){return"h"===a.type?460:a.y2}).attr("x1",function(a){return"h"===a.type?a.x1:460}).attr("x2",function(a){return"h"===a.type?a.x2:460}).attr("opacity",0).attr("class","guideline");d.transition().delay(btc_lines.delay).duration(btc_lines.duration).attr("opacity",1).attr("x1",function(a){return a.x1}).attr("x2",function(a){return a.x2}).attr("y1",function(a){return a.y1}).attr("y2",function(a){return a.y2})})}function drawBTCGridCircles(){d3.csv("../csv/btc-circles.csv",function(a,b){b.forEach(function(a){a.cx=+a.cx,a.cy=+a.cy,a.r=+a.r});var c=svg.append("g"),d=c.selectAll("line").data(b).enter().append("circle").attr("cx",function(a){return a.cx}).attr("cy",function(a){return a.cy}).attr("r",0).attr("class","guideline btcCircles");d.transition().delay(btc_circles.delay).duration(btc_circles.duration).attr("r",function(a){return a.r}).ease("cubic")})}function drawBTC(){svg.append("g").append("path").attr("d",btc_logo_path).style("stroke-dasharray",function(a){var b=d3.select(this).node().getTotalLength();return b+"px, "+b+"px"}).style("stroke-dashoffset",function(a){return d3.select(this).node().getTotalLength()+"px"}).transition().delay(btc_path.delay).duration(btc_path.duration).style("stroke-dashoffset","0px")}function fadeGrids(){setTimeout(function(){$("line").fadeOut(1500),$("circle.guideline").fadeOut(1500)},7e3)}var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1;$(window).scroll(function(){isMobile||$("#home").css("top",-$(window).scrollTop()/4+"px")}),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},600),!1}})});var cogs_grid_lines={delay:800,duration:600},cogs_grid_circles={delay:800,duration:600},cogs_circles={show:2e3,delay:2600,duration:600},btc_lines={show:4400,delay:4600,duration:600},btc_circles={show:4400,delay:4600,duration:400},btc_path={delay:5400,duration:2e3},cogs_path={delay:2800,duration:1e3},cogDrawn=!1,cog_easing="quad",btc_logo_path="M598.632,485.017c-7.769-4.5-19-8.617-33.673-12.37c13.688-4.659,24.696-10.507,33.029-17.642c8.333-7.115,14.733-15.317,19.183-24.587c4.427-9.298,6.62-19.109,6.62-29.456c0-14.22-4.166-27.302-12.56-39.218c-8.372-11.916-20.368-21.043-35.928-27.414c-6.018-2.476-13.203-4.307-21.012-5.837v-55.289h-53.097v51.545h-34.116v-51.545h-53.086v51.545h-80.982v43.375h12.368c8.222,0,13.808,0.744,16.736,2.254c2.928,1.5,4.991,3.523,6.179,6.058c1.198,2.557,1.802,8.475,1.802,17.743v174.817c0,9.139-0.604,15.025-1.802,17.65c-1.207,2.617-3.251,4.65-6.179,6.059c-2.929,1.418-8.515,2.133-16.736,2.133h-12.368v43.375h80.982v51.568h53.086v-51.568h30.191c1.369,0,2.617-0.039,3.925-0.039v51.607h53.097v-56.047c8.915-1.709,16.767-3.873,23.429-6.551c18.335-7.336,32.505-18.014,42.528-32.002c10.004-14.02,15.015-29.336,15.015-45.971c0-13.93-3.301-26.549-9.862-37.859C618.779,500.101,609.862,491.286,598.632,485.017z M447.626,375.35h34.357c20.097,0,34.006,1.229,41.795,3.704s13.747,6.643,17.873,12.47c4.126,5.855,6.18,12.882,6.18,21.123c0,7.94-2.154,14.944-6.521,21.022c-4.349,6.079-10.81,10.617-19.424,13.587c-8.594,3.009-21.918,4.508-39.902,4.508h-34.357V375.35L447.626,375.35z M544.691,569.038c-6.119,7.789-13.546,12.922-22.303,15.396c-8.734,2.475-19.764,3.713-33.049,3.713h-22.874c-7.628,0-12.308-0.432-14.039-1.258c-1.712-0.824-2.949-2.264-3.684-4.367c-0.604-1.65-0.976-7.275-1.117-16.867v-67.869h40.587c17.794,0,31.017,1.67,39.691,4.951c8.655,3.301,15.177,8.162,19.483,14.613c4.368,6.449,6.522,14.311,6.522,23.6C553.91,551.89,550.849,561.247,544.691,569.038z",cog_smooth_path="M825.166,420.567c-13.773-59.667-34.68-113.136-73.375-161.185c-37.369-46.401-84.826-76.28-137.479-101.809c-105.477-51.14-238.848-27.524-333.1,35.643c-99.518,66.696-154.518,186.746-150.23,304.936c4.489,123.738,79.492,228.943,183.123,291.145c46.133,27.69,107.391,42.038,160.842,40.921c33.146-0.693,62.713-2.12,94.863-10.426c30.59-7.902,57.252-21.715,85.781-35.289c45.607-21.7,94.207-70.37,119.562-113.417c26.721-45.359,54.359-104.658,54.086-158.646C829.082,481.482,830.234,451.11,825.166,420.567z",cog_outer_path="M836.145,425.707l-31.727,0.144c-9.6,0.057-19.69-7.351-22.371-16.503l-43.661-100.648c-4.648-8.222-3.177-20.505,3.539-27.256l21.407-21.551c6.67-6.8,6.644-17.814-0.113-24.498l-51.912-51.46c-6.752-6.722-17.764-6.681-24.588,0.09l-23.132,23.435c-6.809,6.821-19.21,8.692-27.635,4.294l-87.873-34.655c-9.19-2.496-16.732-12.473-16.755-21.971l-0.179-32.522c-0.031-9.453-7.863-17.23-17.326-17.179l-73.185,0.333c-9.483,0.012-17.284,7.831-17.256,17.298l0.119,32.55c0.111,9.462-7.43,19.555-16.445,22.42l-101.555,44.004c-8.117,4.8-20.277,3.238-27.104-3.431l-22.912-22.737c-6.691-6.684-17.755-6.64-24.434,0.132l-51.492,51.94c-6.804,6.802-6.728,17.826,0.114,24.499l24.897,24.839c6.87,6.731,8.765,19.005,4.443,27.485l-34.267,87.133c-2.486,9.219-12.375,16.711-21.969,16.743l-34.492,0.148c-9.503,0.047-17.208,7.853-17.133,17.36l0.33,73.133c-0.02,9.583,7.772,17.351,17.271,17.328l34.467-0.152c9.593-0.031,19.66,7.292,22.449,16.438l42.875,99.885c4.948,8.185,3.272,20.416-3.289,27.198l-23.686,23.822c-6.714,6.672-6.639,17.717,0.133,24.395l51.982,51.516c6.775,6.731,17.788,6.678,24.375-0.098l25.324-25.404c6.72-6.78,18.933-8.633,27.451-4.17l88.841,35.048c9.041,2.572,16.587,12.524,16.648,21.964l0.131,33.889c0.017,9.524,7.861,17.235,17.372,17.215l73.183-0.32c9.443-0.072,17.259-7.844,17.21-17.347l-0.155-33.894c-0.004-9.453,7.338-19.479,16.635-22.289l98.967-42.479c8.226-4.739,20.393-3.155,27.222,3.454l22.456,22.463c6.767,6.624,17.771,6.622,24.481-0.104l51.575-52.024c6.71-6.727,6.667-17.79-0.099-24.428l-23.98-23.715c-6.675-6.701-8.606-19.063-4.143-27.449l35.55-89.65c2.493-9.257,12.51-16.645,22.124-16.779l31.732-0.171c9.428-0.008,17.278-7.812,17.203-17.319l-0.323-73.157C853.474,433.407,845.576,425.692,836.145,425.707z",svg=d3.select(".svg-container").append("svg").attr("viewBox","0 0 1000 1000");drawCogGridLines(),drawCogGridCirles(),drawBTCGridLines(),drawBTCGridCircles(),drawBTC(),fadeGrids();
